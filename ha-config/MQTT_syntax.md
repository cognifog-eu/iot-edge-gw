# MQTT syntax

| **MQTT method**                  | **Topic**                                                                                                | **Data**                                                                                                                        |
|----------------------------------|----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
| **Edge GW status**               | <edge_gw_id>/status <br>_Ex: edge-gw-1/status_                                                           | <timestamp_gw>,<gw_status> <br>_Ex: 2024-01-24T13:35:00.051+01:00,online_                                                       |
| **Edge GW attributes**           | <edge_gw_id>/attributes/<attribute_type> <br>_Ex: edge-gw-1/attributes/location_                         | {"attribute1": <attribute1_value>, "attribute2": <attribute2_value>} <br>_Ex: {"latitude": 41.3568635, "longitude": 2.1015533}_ |
| **Sensor status**                | Time<edge_gw_id>/<device_type>/<device_id>/<sensor_type>/status <br>_Ex: edge-gw-1/esp32s2/1/hum/status_ | <timestamp_gw>,<sensor_status> <br>_Ex: 2024-01-22T18:15:40.067+01:00,offline_                                                  |
| **Sensor data publication**      | <edge_gw_id>/<device_type>/<device_id>/<sensor_type><br>_Ex: edge-gw-1/esp32s2/1/hum_                    | <timestamp_gw>,<sensor_value><br>_Ex: 2024-01-22T18:13:30.594+01:00,45.9_                                                       |
| **MQTT topic field**             | **Syntax**                                                                                               | **Possible values**                                                                                                             |
| **ID of the IoT Edge GW**        | <edge_gw_id>                                                                                             | _(string)_                                                                                                                      |
| **Type of device**               | <device_type>                                                                                            | esp32s2                                                                                                                         |
| **ID of the end device**         | <device_id>                                                                                              | _(string)_                                                                                                                      |
| **Type of sensor**               | <sensor_type>                                                                                            | hum, temp-ext                                                                                                                   |
| **Type of attribute**            | <attribute_type>                                                                                         | latitude, longitude                                                                                                             |
| **MQTT data field**              | **Syntax**                                                                                               | **Possible values**                                                                                                             |
| **Timestamp of the IoT Edge GW** | <timestamp_gw>                                                                                           | _(Timestamp codified by ISO 8601)_<br>https://en.wikipedia.org/wiki/ISO_8601                                                    |
| **IoT Edge GW status**           | <gw_status>                                                                                              | online, offline                                                                                                                 |
| **Sensor status**                | <sensor_status>                                                                                          | online, offline                                                                                                                 |
| **Attribute value**              | <attribute_value>                                                                                        | _(To define by the application)_                                                                                                |
| **Sensor value**                 | <sensor_value>                                                                                           | _(To define by the application)_                                                                                                |